(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[16],{10245:(e,t,a)=>{"use strict";a.d(t,{Rf:()=>n,ff:()=>s,uf:()=>o,w0:()=>l});var r=a(80722);let n=async()=>(await r.A.get("/admin/customer/viewAll")).data,s=async e=>(await r.A.post("/admin/customer/add",e,{headers:{"Content-Type":"multipart/form-data"}})).data,l=async e=>{await r.A.delete("/admin/customer/delete/".concat(e))},o=async(e,t)=>(await r.A.put("/admin/customer/status/".concat(e),t,{})).data},10255:(e,t,a)=>{"use strict";function r(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return r}}),a(95155),a(47650),a(85744),a(20589)},17828:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return r}});let r=(0,a(64054).createAsyncLocalStorage)()},36645:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let r=a(88229)._(a(67357));function n(e,t){var a;let n={};"function"==typeof e&&(n.loader=e);let s={...n,...t};return(0,r.default)({...s,modules:null==(a=s.loadableGenerated)?void 0:a.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},56206:(e,t,a)=>{Promise.resolve().then(a.bind(a,60934))},60934:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var r=a(95155),n=a(12115),s=a(36645),l=a.n(s),o=a(19946);let i=(0,o.A)("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),c=(0,o.A)("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]),d=(0,o.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),u=(0,o.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),m=(0,o.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),f=(0,o.A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),h=(0,o.A)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var b=a(35695),x=a(10245),y=a(24752),p=a.n(y),g=a(82940),v=a.n(g);let j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MM-YYYY";return v()(e).format(t)},w=l()(()=>a.e(124).then(a.bind(a,17124)),{loadableGenerated:{webpack:()=>[17124]},ssr:!1}),k=()=>{let e=(0,b.useRouter)(),[t,a]=(0,n.useState)({name:"",mobile:""}),[s,l]=(0,n.useState)([]),[o,y]=(0,n.useState)([]);(0,n.useEffect)(()=>{(async()=>{let e=(await (0,x.Rf)()).result||[];y(e),l(e)})()},[]);let g=async e=>{if((await p().fire({title:"Are you sure?",text:"You wonâ€™t be able to delete this customer ?  ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#506ae5",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"})).isConfirmed)try{await (0,x.w0)(e),p().fire("Deleted!","Customer has been deleted.","success");let t=await (0,x.Rf)();y(t.result||[]),l(t.result||[])}catch(e){p().fire("Error!","Failed to delete customer.","error")}},v=async(e,t)=>{let a="active"===t?"inactive":"active";if((await p().fire({title:"Are you sure?",text:"You want to change status to ".concat(a,"?"),icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, change it!"})).isConfirmed)try{await (0,x.uf)(e,{status:a}),p().fire("Updated!","Customer status updated successfully.","success");let t=await (0,x.Rf)();y(t.result||[]),l(t.result||[])}catch(e){p().fire("Error","Failed to update status","error")}},k=[{name:"S.No",selector:(e,t)=>t+1,width:"6%"},{name:"Name",sortable:!0,width:"19%",cell:e=>(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[e.profile?(0,r.jsx)("img",{src:"".concat("http://192.168.0.87:3000/uploads/","/profile/").concat(e.profile),alt:e.name,className:"w-8 h-8 rounded-full object-cover"}):(0,r.jsx)(r.Fragment,{}),(0,r.jsx)("span",{className:"text-gray-800",children:e.name})]})},{name:"Mobile No.",sortable:!0,selector:e=>e.mobile,width:"10%"},{name:"Email",sortable:!0,selector:e=>e.email,width:"20%"},{name:"DOB",sortable:!0,selector:e=>e.dob,width:"10%"},{name:"Gender",selector:e=>e.gender,width:"7%"},{name:"Status",width:"8%",cell:e=>{var t;return(0,r.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat((null==(t=e.status)?void 0:t.toLowerCase())==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})}},{name:"Created",cell:e=>j(e.dob),width:"10%"},{name:"Action",width:"10%",cell:t=>(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("div",{className:"cursor-pointer",onClick:()=>v(t.id,t.status),title:"Click to mark as ".concat("active"===t.status?"inactive":"active"),children:"active"===t.status?(0,r.jsx)(i,{className:"text-green-500",size:20}):(0,r.jsx)(c,{className:"text-red-500",size:20})}),(0,r.jsx)("button",{onClick:()=>e.push("/admin/customers/edit?id=".concat(t.id)),className:"text-green-600 hover:text-green-900",children:(0,r.jsx)(d,{size:16})}),(0,r.jsx)("button",{onClick:()=>g(t.id),className:"text-red-600 hover:text-red-900",children:(0,r.jsx)(u,{size:16})})]})}];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-medium text-gray-900",children:"Customer Manager"}),(0,r.jsxs)("button",{onClick:()=>e.push("/admin/customers/add"),className:"flex items-center px-4 py-2 bg-[#506ae5] text-white rounded-md hover:opacity-90",children:[(0,r.jsx)(m,{size:16,className:"mr-2"}),"Add Customer"]})]}),(0,r.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-lg font-medium text-gray-700 mb-2",children:"Name"}),(0,r.jsx)("input",{type:"text",value:t.name,onChange:e=>a({...t,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md  focus:outline-none focus:ring-0 focus:border-2 text-black ",placeholder:"Enter name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-lg font-medium text-gray-700 mb-2",children:"Mobile Number"}),(0,r.jsx)("input",{type:"text",onChange:e=>{let r=e.target.value;/^\d{0,10}$/.test(r)&&a({...t,mobile:e.target.value})},value:t.mobile,className:"w-full px-3 py-2 border border-gray-300 rounded-md  focus:outline-none focus:ring-0 focus:border-2 text-black ",placeholder:"Enter mobile number"})]}),(0,r.jsxs)("button",{onClick:()=>{l(o.filter(e=>{let a=!t.name||e.name.toLowerCase().includes(t.name.toLowerCase()),r=!t.mobile||e.mobile.includes(t.mobile);return a&&r}))},className:"flex items-center justify-center px-4 py-2 bg-[#506ae5] text-white rounded-md hover:opacity-90",children:[(0,r.jsx)(f,{size:16,className:"mr-2"}),"Search"]}),(0,r.jsxs)("button",{onClick:()=>{a({name:"",mobile:""}),l(o)},className:"flex items-center justify-center px-4 py-2 bg-[#ebaa3b] text-white rounded-md hover:opacity-90",children:[(0,r.jsx)(h,{size:16,className:"mr-2"}),"Reset"]})]})}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,r.jsx)(w,{columns:k,data:s,pagination:!0,highlightOnHover:!0,responsive:!0,customStyles:{headCells:{style:{fontWeight:"bold",fontSize:"14px",borderRight:"1px solid #e5e7eb"}},cells:{style:{borderRight:"1px solid #e5e7eb"}},rows:{style:{borderBottom:"1px solid #f1f5f9"}}}})})]})}},62146:(e,t,a)=>{"use strict";function r(e){let{reason:t,children:a}=e;return a}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}}),a(45262)},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{bindSnapshot:function(){return l},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return o}});let a=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class r{disable(){throw a}getStore(){}run(){throw a}exit(){throw a}enterWith(){throw a}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return n?new n:new r}function l(e){return n?n.bind(e):r.bind(e)}function o(){return n?n.snapshot():function(e,...t){return e(...t)}}},67357:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=a(95155),n=a(12115),s=a(62146);function l(e){return{default:e&&"default"in e?e.default:e}}a(10255);let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},i=function(e){let t={...o,...e},a=(0,n.lazy)(()=>t.loader().then(l)),i=t.loading;function c(e){let l=i?(0,r.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?n.Suspense:n.Fragment,d=t.ssr?(0,r.jsxs)(r.Fragment,{children:[null,(0,r.jsx)(a,{...e})]}):(0,r.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(a,{...e})});return(0,r.jsx)(c,{...o?{fallback:l}:{},children:d})}return c.displayName="LoadableComponent",c}},80722:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=a(23464).A.create({baseURL:"http://192.168.0.87:3000/api/v1",headers:{"Content-Type":"application/json"}})},85744:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return r.workAsyncStorageInstance}});let r=a(17828)}},e=>{var t=t=>e(e.s=t);e.O(0,[320,586,111,441,684,358],()=>t(56206)),_N_E=e.O()}]);