(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{10245:(e,s,t)=>{"use strict";t.d(s,{Rf:()=>r,ff:()=>l,uf:()=>i,w0:()=>d});var a=t(80722);let r=async()=>(await a.A.get("/admin/customer/viewAll")).data,l=async e=>(await a.A.post("/admin/customer/add",e,{headers:{"Content-Type":"multipart/form-data"}})).data,d=async e=>{await a.A.delete("/admin/customer/delete/".concat(e))},i=async(e,s)=>(await a.A.put("/admin/customer/status/".concat(e),s,{})).data},14428:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var a=t(95155),r=t(10245),l=t(12115),d=t(62177),i=t(48778),n=t(71153);let c=(0,t(19946).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var m=t(13568),o=t(35695),x=t(33985),p=t(93915);let h=n.z.object({name:n.z.string().min(1,"Name is required"),email:n.z.string().email("Invalid email"),mobile:n.z.string().min(10,"Mobile must be 10 digits").max(10),country:n.z.string().min(1,"Country is required"),state:n.z.string().min(1,"State is required"),city:n.z.string().min(1,"City is required"),dateOfBirth:n.z.string().min(1,"Date of Birth is required").refine(e=>{let s=new Date(e),t=new Date,a=t.getFullYear()-s.getFullYear(),r=t.getMonth()-s.getMonth(),l=t.getDate()-s.getDate(),d=r<0||0===r&&l<0?a-1:a;return d>=18&&d<=75},{message:"Please enter a valid date of birth (between 18 and 75 years old)."}),gender:n.z.string().min(1,"Gender is required"),landmark:n.z.string().min(1,"Landmark is required"),address:n.z.string().min(1,"Address is required"),categories:n.z.array(n.z.string()).min(1,"Select at least one category")}),u=["Healthcare","Technology","Education","Finance","Marketing","Legal"],g=[{code:"IN",name:"India",flag:"\uD83C\uDDEE\uD83C\uDDF3"},{code:"US",name:"USA",flag:"\uD83C\uDDFA\uD83C\uDDF8"}];function j(){let e=(0,o.useRouter)(),[s,t]=(0,l.useState)(null),n=new Date,j=new Date(n.getFullYear()-75,n.getMonth(),n.getDate()),y=new Date(n.getFullYear()-18,n.getMonth(),n.getDate()),N=e=>e.toISOString().split("T")[0],{register:f,handleSubmit:b,formState:{errors:v},watch:A,setValue:w}=(0,d.mN)({resolver:(0,i.u)(h),defaultValues:{categories:[]}}),k=async t=>{try{let a=new FormData;a.append("name",t.name),a.append("email",t.email),a.append("mobile",t.mobile),a.append("country",t.country),a.append("state",t.state),a.append("city",t.city),a.append("address",t.address),a.append("landmark",t.landmark||""),a.append("dob",t.dateOfBirth||""),a.append("gender",t.gender||""),a.append("status","active"),a.append("categories",JSON.stringify(t.categories||[])),s&&a.append("profile",s);let l=await (0,r.ff)(a);(null==l?void 0:l.status)===!0?(m.Ay.success("Customer created successfully!"),e.push("/admin/customers")):m.Ay.error((null==l?void 0:l.message)||"Failed to create customer.")}catch(s){var a,l;let e=null==s||null==(l=s.response)||null==(a=l.data)?void 0:a.message;m.Ay.error(e)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("h1",{className:"text-2xl font-medium text-gray-900",children:"Add Customer"})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:(0,a.jsxs)("form",{onSubmit:b(k),noValidate:!0,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(x.A,{htmlFor:"name",children:["Name ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsx)(p.A,{...f("name"),id:"name",placeholder:"Enter Name"}),v.name&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:v.name.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(x.A,{htmlFor:"email",children:["Email ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsx)(p.A,{...f("email"),id:"email",type:"email",placeholder:"Enter Email"}),v.email&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:v.email.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(x.A,{htmlFor:"mobile",children:["Mobile Number ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsx)(p.A,{...f("mobile"),id:"mobile",type:"tel",placeholder:"Enter Mobile Number"}),v.mobile&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:v.mobile.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(x.A,{htmlFor:"country",children:["Country ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsxs)("select",{...f("country"),id:"country",className:"form-select text-black w-full border rounded-md px-3 py-2",children:[(0,a.jsx)("option",{value:"",children:"Select Country"}),g.map(e=>(0,a.jsxs)("option",{value:e.code,children:[e.flag," ",e.name]},e.code))]}),v.country&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:v.country.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(x.A,{htmlFor:"state",children:["State ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsx)(p.A,{...f("state"),id:"state",placeholder:"Enter State"}),v.state&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:v.state.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(x.A,{htmlFor:"city",children:["City ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsx)(p.A,{...f("city"),id:"city",placeholder:"Enter City"}),v.city&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:v.city.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(x.A,{htmlFor:"dateOfBirth",children:["Date of Birth ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsx)(p.A,{...f("dateOfBirth"),id:"dateOfBirth",type:"date",min:N(j),max:N(y)}),v.dateOfBirth&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:v.dateOfBirth.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(x.A,{htmlFor:"gender",children:["Gender ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsxs)("select",{...f("gender"),id:"gender",className:"form-select text-black w-full border rounded-md px-3 py-2",children:[(0,a.jsx)("option",{value:"",children:"Select Gender"}),(0,a.jsx)("option",{value:"male",children:"Male"}),(0,a.jsx)("option",{value:"female",children:"Female"}),(0,a.jsx)("option",{value:"other",children:"Other"})]}),v.gender&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:v.gender.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(x.A,{htmlFor:"landmark",children:["Landmark ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsx)(p.A,{...f("landmark"),id:"landmark",placeholder:"Enter Landmark"}),v.landmark&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:v.landmark.message})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsxs)(x.A,{htmlFor:"address",children:["Address ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsx)("textarea",{...f("address"),id:"address",rows:3,placeholder:"Enter Address",className:"w-full border rounded-md px-3 py-2 text-black"}),v.address&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:v.address.message})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(x.A,{htmlFor:"address",children:["Categories ",(0,a.jsx)("span",{className:"text-red-600",children:"*"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:u.map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",value:e,...f("categories"),className:"h-4 w-4 text-[#0d9488] focus:ring-[#0d9488] border-gray-300 rounded"}),(0,a.jsx)("span",{className:"ml-2 text-base text-gray-700",children:e})]},e))}),v.categories&&(0,a.jsx)("p",{className:"text-red-600 text-sm mt-1",children:v.categories.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.A,{htmlFor:"profile-upload",children:"Profile Image"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[(0,a.jsx)("input",{id:"profile-upload",type:"file",className:"hidden",accept:".jpg,.jpeg,.png",onChange:e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];a&&(["image/jpeg","image/png"].includes(a.type)?t(a):m.Ay.error("Only JPG and PNG images are allowed."))}}),(0,a.jsxs)("label",{htmlFor:"profile-upload",className:"cursor-pointer flex flex-col items-center",children:[(0,a.jsx)(c,{className:"h-12 w-12 text-gray-400"}),(0,a.jsx)("span",{className:"mt-2 text-base text-gray-600",children:"Click to upload profile image"})]}),s&&(0,a.jsxs)("div",{className:"mt-2 text-base text-green-600",children:["Selected: ",s.name]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-4 pt-4 justify-between",children:[(0,a.jsx)("button",{type:"button",className:"px-6 py-2 bg-yellow-500 text-white rounded-md hover:opacity-90",onClick:()=>e.push("/admin/customers"),children:"Back"}),(0,a.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:opacity-90",children:"Submit"})]})]})})]})}},33985:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});var a=t(95155);t(12115);let r=e=>{let{htmlFor:s,children:t,className:r=""}=e;return(0,a.jsx)("label",{htmlFor:s,className:"block text-base font-medium text-gray-700 mb-2 ".concat(r),children:t})}},58065:(e,s,t)=>{Promise.resolve().then(t.bind(t,14428))},80722:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=t(23464).A.create({baseURL:"http://192.168.0.87:3000/api/v1",headers:{"Content-Type":"application/json"}})},93915:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(95155),r=t(12115),l=t(78749),d=t(92657);let i=r.forwardRef((e,s)=>{let{type:t="text",className:r="",showToggle:i=!1,showPassword:n=!1,onTogglePasswordVisibility:c,...m}=e,o="password"===t&&i;return(0,a.jsxs)("div",{className:"relative ".concat(r),children:[(0,a.jsx)("input",{ref:s,type:o&&n?"text":t,className:"\n      w-full px-3 py-2 border border-gray-300 rounded-md \n             focus:outline-none focus:ring-0 focus:border-2 text-black\n            ".concat(o?"pr-12":"","\n          "),...m}),o&&c&&(0,a.jsx)("div",{className:"absolute inset-y-0 right-3 flex items-center cursor-pointer",onClick:c,children:n?(0,a.jsx)(l.A,{className:"text-gray-500"}):(0,a.jsx)(d.A,{className:"text-gray-500"})})]})});i.displayName="Input";let n=i}},e=>{var s=s=>e(e.s=s);e.O(0,[111,568,830,441,684,358],()=>s(58065)),_N_E=e.O()}]);